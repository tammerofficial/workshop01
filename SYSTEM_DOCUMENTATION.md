# 📚 نظام البوتيك المتكامل - التوثيق الشامل

## 🌟 نظرة عامة على النظام

نظام البوتيك المتكامل هو حل شامل ومتطور لإدارة جميع جوانب أعمال البوتيك والورشة، يجمع بين:

- 🏪 **نظام نقاط البيع (POS)** للمتجر الفيزيائي
- 🌐 **المتجر الإلكتروني** للبيع أونلاين
- 🏭 **نظام إدارة الورشة** للطلبات المخصصة
- 📦 **إدارة المخزون الموحد** عبر جميع القنوات
- ⭐ **نظام الولاء المتقدم** مع البطاقات الرقمية
- 📊 **التحليلات والتقارير الذكية** لجميع العمليات

## 🏗️ هيكل النظام

### Backend (Laravel 12+)
```
api/
├── app/
│   ├── Http/Controllers/
│   │   ├── Api/
│   │   │   ├── Boutique/          # نظام البوتيك
│   │   │   ├── Inventory/         # إدارة المخزون
│   │   │   ├── Loyalty/           # نظام الولاء
│   │   │   ├── Reports/           # التقارير
│   │   │   └── Workshop/          # نظام الورشة
│   ├── Models/                    # نماذج البيانات
│   ├── Services/                  # الخدمات المساعدة
│   └── Middleware/                # الوسطاء
├── database/
│   ├── migrations/                # هجرات قاعدة البيانات
│   └── seeders/                   # بذور البيانات
└── routes/                        # المسارات
```

### Frontend (React + TypeScript)
```
src/
├── components/
│   ├── boutique/                  # مكونات نظام البوتيك
│   ├── ecommerce/                 # مكونات المتجر الإلكتروني
│   ├── inventory/                 # مكونات إدارة المخزون
│   ├── loyalty/                   # مكونات نظام الولاء
│   ├── reports/                   # مكونات التقارير
│   └── workshop/                  # مكونات الورشة
├── pages/                         # الصفحات الرئيسية
├── contexts/                      # السياقات (اللغة، الصلاحيات)
├── hooks/                         # خطافات مخصصة
├── types/                         # تعريفات الأنواع
└── locales/                       # ملفات الترجمة
```

## 📊 قاعدة البيانات

### الجداول الأساسية

#### 👥 إدارة المستخدمين
- `users` - المستخدمون
- `roles` - الأدوار
- `permissions` - الصلاحيات
- `role_has_permissions` - ربط الأدوار بالصلاحيات
- `model_has_roles` - ربط المستخدمين بالأدوار

#### 📦 إدارة المخزون
- `products` - المنتجات المركزية
- `inventory_movements` - حركة المخزون
- `stock_alerts` - تنبيهات المخزون
- `locations` - المواقع والمستودعات
- `location_inventory` - مخزون المواقع
- `inventory_transfers` - تحويلات المخزون
- `stock_counts` - جرد المخزون

#### 🏪 نظام البوتيك ونقاط البيع
- `boutiques` - معلومات البوتيكات
- `pos_transactions` - معاملات نقاط البيع
- `pos_transaction_items` - عناصر المعاملات
- `boutique_sales` - مبيعات البوتيك

#### 🏭 نظام الورشة والطلبات المخصصة
- `custom_orders` - الطلبات المخصصة
- `customer_measurements` - قياسات العملاء
- `production_stages` - مراحل الإنتاج
- `production_progress` - تقدم الإنتاج
- `design_templates` - قوالب التصميم
- `quality_checks` - فحص الجودة
- `material_usage` - استخدام المواد
- `customer_communications` - التواصل مع العملاء

#### ⭐ نظام الولاء المتقدم
- `loyalty_points` - نقاط الولاء
- `loyalty_programs` - برامج الولاء
- `loyalty_tiers` - مستويات الولاء
- `customer_loyalty_tiers` - ربط العملاء بالمستويات
- `loyalty_redemptions` - استبدال النقاط
- `loyalty_campaigns` - حملات الولاء
- `digital_loyalty_cards` - البطاقات الرقمية

## 🔧 إعداد النظام

### متطلبات النظام
- **PHP**: 8.1+
- **Node.js**: 18+
- **MySQL**: 8.0+
- **Redis**: 6.0+
- **Nginx**: 1.18+

### تثبيت النظام

#### 1. تحضير الخادم
```bash
# تحديث النظام
sudo apt update && sudo apt upgrade -y

# تثبيت المتطلبات الأساسية
sudo apt install -y nginx php8.1-fpm mysql-server redis-server nodejs npm
```

#### 2. إعداد المشروع
```bash
# استنساخ المشروع
git clone <repository-url> boutique-system
cd boutique-system

# إعداد Laravel
cd api
composer install
cp .env.example .env
php artisan key:generate

# إعداد React
cd ..
npm install
npm run build
```

#### 3. تشغيل النشر التلقائي
```bash
chmod +x deployment/deploy.sh
sudo ./deployment/deploy.sh
```

### إعداد قاعدة البيانات

#### 1. إنشاء قاعدة البيانات
```sql
CREATE DATABASE boutique_system;
CREATE USER 'boutique_user'@'localhost' IDENTIFIED BY 'secure_password';
GRANT ALL PRIVILEGES ON boutique_system.* TO 'boutique_user'@'localhost';
FLUSH PRIVILEGES;
```

#### 2. تشغيل الهجرات
```bash
cd api
php artisan migrate
php artisan db:seed
```

## 🚀 استخدام النظام

### 🏪 نظام نقاط البيع (POS)

#### المزايا الرئيسية:
- ✅ واجهة سريعة ومرنة للبيع
- ✅ دعم الباركود والبحث السريع
- ✅ إدارة العملاء ونقاط الولاء
- ✅ طرق دفع متعددة
- ✅ طباعة الفواتير التلقائية
- ✅ تتبع المخزون المباشر

#### كيفية الاستخدام:
1. الدخول إلى `/pos-system`
2. البحث عن المنتجات وإضافتها للسلة
3. اختيار العميل (لكسب نقاط الولاء)
4. اختيار طريقة الدفع
5. إتمام البيع وطباعة الفاتورة

### 🌐 المتجر الإلكتروني

#### المزايا الرئيسية:
- ✅ واجهة عصرية متجاوبة
- ✅ كتالوج منتجات تفاعلي
- ✅ عربة تسوق متقدمة
- ✅ نظام دفع آمن
- ✅ تتبع الطلبات
- ✅ حساب عملاء شخصي
- ✅ دعم الطلبات المخصصة

#### صفحات النظام:
- **الصفحة الرئيسية**: `/ecommerce`
- **كتالوج المنتجات**: `/ecommerce/catalog`
- **تفاصيل المنتج**: `/ecommerce/product/:id`
- **الدفع**: `/ecommerce/checkout`
- **حساب العميل**: `/ecommerce/dashboard`

### 🏭 نظام الورشة

#### المزايا الرئيسية:
- ✅ إدارة الطلبات المخصصة
- ✅ تتبع مراحل الإنتاج
- ✅ قياسات العملاء المحفوظة
- ✅ فحص الجودة
- ✅ تخصيص العمال
- ✅ تتبع استخدام المواد
- ✅ التواصل مع العملاء

#### تدفق العمل:
1. **استلام الطلب** من المتجر الإلكتروني
2. **تأكيد القياسات** والمواصفات
3. **تخصيص العامل** للطلب
4. **تتبع مراحل الإنتاج**:
   - القص
   - الخياطة
   - التشطيب
   - فحص الجودة
5. **تأكيد الإنجاز** والتسليم

### 📦 إدارة المخزون

#### المزايا الرئيسية:
- ✅ مخزون موحد عبر جميع القنوات
- ✅ تتبع الحركة المباشر
- ✅ تنبيهات المخزون المنخفض
- ✅ إدارة مواقع متعددة
- ✅ جرد دوري
- ✅ تقارير تفصيلية

#### كيفية الاستخدام:
1. الدخول إلى `/inventory`
2. مراقبة مستويات المخزون
3. تحديث المخزون عند الحاجة
4. مراجعة التنبيهات والتحركات
5. إجراء الجرد الدوري

### ⭐ نظام الولاء المتقدم

#### المزايا الرئيسية:
- ✅ مستويات ولاء متدرجة
- ✅ نقاط تلقائية عند الشراء
- ✅ حملات ولاء خاصة
- ✅ بطاقات رقمية (Apple Wallet)
- ✅ استبدال النقاط
- ✅ تحليلات العملاء

#### مستويات الولاء:
1. **Bronze** (المستوى 1): المبتدئين
2. **Silver** (المستوى 2): العملاء المنتظمين
3. **Gold** (المستوى 3): العملاء المميزين
4. **Platinum** (المستوى 4): العملاء VIP
5. **Diamond** (المستوى 5): العملاء الاستثنائيين

### 📊 التحليلات والتقارير

#### أنواع التقارير:
- **تقارير المبيعات**: إيرادات من جميع القنوات
- **تحليلات المنتجات**: الأكثر مبيعاً والأقل حركة
- **تحليلات العملاء**: شرائح العملاء وسلوكهم
- **تقارير المخزون**: الحركة والتنبيهات
- **تحليلات الورشة**: الإنتاجية والكفاءة
- **تقارير الولاء**: النقاط والاستبدال

## 🔐 نظام الصلاحيات

### الأدوار الأساسية:

#### 👑 الأدوار النظام:
- **super_admin**: صلاحيات كاملة
- **system_admin**: إدارة النظام

#### 👥 أدوار المستخدمين:
- **admin**: مدير عام
- **boutique_manager**: مدير البوتيك
- **pos_operator**: كاشير نقاط البيع
- **workshop_manager**: مدير الورشة
- **worker**: عامل ورشة
- **inventory_manager**: مدير المخزون
- **customer**: عميل

### الصلاحيات الرئيسية:

#### 🏪 البوتيك ونقاط البيع:
- `pos.operate`: تشغيل نقاط البيع
- `pos.manage`: إدارة نقاط البيع
- `boutique.manage`: إدارة البوتيك

#### 📦 المخزون:
- `inventory.view`: عرض المخزون
- `inventory.manage`: إدارة المخزون
- `inventory.adjust`: تعديل المخزون

#### 🏭 الورشة:
- `workshop.view`: عرض الورشة
- `workshop.manage`: إدارة الورشة
- `production.operate`: تشغيل الإنتاج

#### ⭐ الولاء:
- `loyalty.view`: عرض الولاء
- `loyalty.manage`: إدارة الولاء
- `loyalty.redeem`: استبدال النقاط

#### 📊 التقارير:
- `reports.view`: عرض التقارير
- `reports.export`: تصدير التقارير

## 🛡️ الأمان والحماية

### ميزات الأمان:
- 🔐 **تشفير كامل** لكلمات المرور
- 🛡️ **حماية CSRF** لجميع النماذج
- 🔒 **جلسات آمنة** مع Redis
- 📊 **تسجيل العمليات** الحساسة
- 🚫 **حماية من الحقن** SQL
- 🔑 **توكينات API** آمنة
- 🛠️ **فحص الصلاحيات** المتقدم

### أفضل الممارسات:
1. **كلمات مرور قوية** لجميع الحسابات
2. **تحديث منتظم** للنظام
3. **نسخ احتياطية يومية** للبيانات
4. **مراقبة السجلات** للأنشطة المشبوهة
5. **شهادات SSL** للحماية
6. **جدار حماية** محكم

## 📱 دعم الأجهزة المحمولة

### التوافق:
- ✅ **تصميم متجاوب** لجميع الأحجام
- ✅ **دعم اللمس** للأجهزة التفاعلية
- ✅ **تحسين السرعة** للهواتف
- ✅ **وضع عدم الاتصال** لنقاط البيع
- ✅ **بطاقات رقمية** لـ Apple Wallet

### واجهات خاصة:
- **iPad POS**: واجهة محسنة للأجهزة اللوحية
- **Mobile Dashboard**: لوحة تحكم للهواتف
- **Customer App**: تطبيق العملاء (مستقبلي)

## 🌍 دعم اللغات

### اللغات المدعومة:
- 🇺🇸 **English** (الإنجليزية)
- 🇸🇦 **Arabic** (العربية)

### نظام الترجمة:
- ملفات JSON منفصلة (`en.json`, `ar.json`)
- دعم كامل للنصوص من اليمين لليسار (RTL)
- ترجمة ديناميكية لجميع العناصر
- دعم الأرقام والعملات المحلية

## 🔧 الصيانة والتحديث

### المراقبة:
- **مراقبة الأداء** التلقائية
- **تنبيهات النظام** للمشاكل
- **إحصائيات الاستخدام** المفصلة
- **سجلات الأخطاء** الشاملة

### النسخ الاحتياطية:
- **نسخ يومية** تلقائية
- **نسخ قاعدة البيانات** منفصلة
- **أرشفة الملفات** الدورية
- **اختبار الاستعادة** المنتظم

### التحديثات:
- **تحديثات أمنية** فورية
- **ميزات جديدة** دورية
- **تحسينات الأداء** مستمرة
- **دعم فني** مخصص

## 📞 الدعم والمساعدة

### الحصول على المساعدة:
1. **مراجعة التوثيق** أولاً
2. **فحص السجلات** للأخطاء
3. **التواصل مع الدعم** الفني
4. **طلب التدريب** إذا لزم الأمر

### معلومات الاتصال:
- **البريد الإلكتروني**: support@boutique-system.com
- **الهاتف**: +965-XXXX-XXXX
- **الدعم الفني**: 24/7 للمشاكل الحرجة

---

## 🎉 خاتمة

نظام البوتيك المتكامل هو حل شامل ومتطور يجمع جميع جوانب إدارة البوتيك والورشة في نظام واحد متماسك. بفضل التقنيات الحديثة والتصميم المرن، يوفر النظام أداءً عالياً وسهولة في الاستخدام مع إمكانيات توسع مستقبلية.

**🚀 النظام جاهز للعمل ومُحسَّن للإنتاج!**

---

*آخر تحديث: يناير 2025*
*النسخة: 1.0*