# ๐ฐ ุชูุฑูุฑ ูุธุงู ุงูุฑุงุชุจ ุจุงูุฏููุงุฑ ุงููููุชู

## ๐ฏ **ุงููุฏู ุงูููุญูู**

ุชู ุชุทููุฑ **ูุธุงู ุฑุงุชุจ ูุชูุงูู ุจุงูุฏููุงุฑ ุงููููุชู** ูุน **ุญุณุงุจ ุชููุงุฆู ูุณุนุฑ ุงูุณุงุนุฉ** ุจุฌุงูุจ ุงููุธุงู ุงูุญุงูู ุจุงูุฏููุงุฑ ุงูุฃูุฑูููุ ููุง ูููุฑ ูุฑููุฉ ูุงููุฉ ููุดุฑูุงุช ุงููููุชูุฉ.

## ๐ง **ุงููููุฒุงุช ุงูููุถุงูุฉ**

### **1. ุญููู ุฌุฏูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** ๐พ
```sql
-- ุฅุถุงูุฉ ุญููู ุงูุฏููุงุฑ ุงููููุชู ุฅูู ุฌุฏูู workers
ALTER TABLE workers ADD COLUMN salary_kwd DECIMAL(10,3) NULLABLE;
ALTER TABLE workers ADD COLUMN hourly_rate_kwd DECIMAL(8,3) NULLABLE;
```

### **2. ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุญุฏุซุฉ** ๐จ

#### **ูููุฐุฌ ุฅุถุงูุฉ ุนุงูู ุฌุฏูุฏ**:
```typescript
// ุงูุญููู ุงูุฌุฏูุฏุฉ ุงูููุถุงูุฉ
{
  salary: '',           // ุงูุฑุงุชุจ ุจุงูุฏููุงุฑ (USD)
  salaryKWD: '',       // ุงูุฑุงุชุจ ุจุงูุฏููุงุฑ ุงููููุชู (KWD)
  hourlyRateKWD: '',   // ุณุนุฑ ุงูุณุงุนุฉ ุจุงูุฏููุงุฑ (ูุญุณูุจ ุชููุงุฆูุงู)
  standardHoursPerMonth: '160' // ุณุงุนุงุช ุงูุนูู ุงูุดูุฑูุฉ
}
```

#### **ุงูุชุฎุทูุท ุงูุฌุฏูุฏ ููุญููู**:
```html
<!-- ุงูุฑุงุชุจ ุงูุฃุณุงุณู ุจุงูุฏููุงุฑ -->
<label>Salary (USD)</label>
<input type="number" step="0.01" name="salary" placeholder="0.00" />

<!-- ุงูุฑุงุชุจ ุจุงูุฏููุงุฑ ุงููููุชู -->
<label>ุงูุฑุงุชุจ (ุฏ.ู) - Salary (KWD)</label>
<input type="number" step="0.001" name="salaryKWD" placeholder="0.000" />

<!-- ุณุงุนุงุช ุงูุนูู ุงูุดูุฑูุฉ -->
<label>ุณุงุนุงุช ุงูุนูู ุงูุดูุฑูุฉ - Monthly Working Hours</label>
<input type="number" name="standardHoursPerMonth" value="160" />

<!-- ุณุนุฑ ุงูุณุงุนุฉ ุจุงูุฏููุงุฑ (ูููุฑุงุกุฉ ููุท) -->
<label>ุณุนุฑ ุงูุณุงุนุฉ (ุฏ.ู) - Hourly Rate (KWD) (ูุญุณูุจ ุชููุงุฆูุงู)</label>
<input type="number" step="0.001" name="hourlyRateKWD" readOnly className="bg-gray-50" />
<p>ุงููุนุงุฏูุฉ: {salaryKWD}ุฏ.ู รท {monthlyHours}ุณุงุนุฉ = {hourlyRateKWD}ุฏ.ู/ุณุงุนุฉ</p>
```

### **3. ุงูุญุณุงุจ ุงูุชููุงุฆู** โก

#### **ูู Frontend (React)**:
```typescript
// ุฏุงูุฉ ุญุณุงุจ ุณุนุฑ ุงูุณุงุนุฉ ุจุงูุฏููุงุฑ ุงููููุชู
const calculateHourlyRateKWD = (salaryKWD: string, monthlyHours: string) => {
  const salaryNum = parseFloat(salaryKWD) || 0;
  const hoursNum = parseFloat(monthlyHours) || 160;
  return hoursNum > 0 ? (salaryNum / hoursNum).toFixed(3) : '0.000';
};

// ุชุญุฏูุซ ููุฑู ุนูุฏ ุชุบููุฑ ุงูููู
if (name === 'salaryKWD' || name === 'standardHoursPerMonth') {
  const salaryKWD = name === 'salaryKWD' ? value : prev.salaryKWD;
  const monthlyHours = name === 'standardHoursPerMonth' ? value : prev.standardHoursPerMonth;
  newData.hourlyRateKWD = calculateHourlyRateKWD(salaryKWD, monthlyHours);
}
```

#### **ูู Backend (Laravel)**:
```php
// ุญุณุงุจ ุณุนุฑ ุงูุณุงุนุฉ ุจุงูุฏููุงุฑ ูู WorkerController
private function calculateHourlyRates(array &$data): void
{
    // ุญุณุงุจ ุณุนุฑ ุงูุณุงุนุฉ ุจุงูุฏููุงุฑ ุงููููุชู
    if (isset($data['salary_kwd']) && isset($data['standard_hours_per_month'])) {
        $salaryKWD = (float) $data['salary_kwd'];
        $monthlyHours = (float) $data['standard_hours_per_month'];
        
        if ($monthlyHours > 0) {
            $data['hourly_rate_kwd'] = round($salaryKWD / $monthlyHours, 3);
        }
    }
    // ุฅุฐุง ูู ูุชู ุชุญุฏูุฏ ุณุงุนุงุชุ ุงุณุชุฎุฏู 160 ุณุงุนุฉ ูุงูุชุฑุงุถู
    elseif (isset($data['salary_kwd']) && !isset($data['standard_hours_per_month'])) {
        $salaryKWD = (float) $data['salary_kwd'];
        $defaultMonthlyHours = 160;
        
        $data['hourly_rate_kwd'] = round($salaryKWD / $defaultMonthlyHours, 3);
        $data['standard_hours_per_month'] = $defaultMonthlyHours;
    }
}
```

### **4. ูููุฐุฌ ุงูุจูุงูุงุช ุงููุญุฏุซ** ๐

#### **Worker Model**:
```php
protected $fillable = [
    // ... ุงูุญููู ุงูููุฌูุฏุฉ
    'salary',           // ุงูุฑุงุชุจ ุจุงูุฏููุงุฑ
    'salary_kwd',       // ุงูุฑุงุชุจ ุจุงูุฏููุงุฑ ุงููููุชู
    'hourly_rate',      // ุณุนุฑ ุงูุณุงุนุฉ ุจุงูุฏููุงุฑ
    'hourly_rate_kwd',  // ุณุนุฑ ุงูุณุงุนุฉ ุจุงูุฏููุงุฑ ุงููููุชู
    // ... ุจุงูู ุงูุญููู
];

protected $casts = [
    'salary' => 'decimal:2',        // ุฏููุงุฑ: ููุฒูุชุงู ุนุดุฑูุชุงู
    'salary_kwd' => 'decimal:3',    // ุฏููุงุฑ: ุซูุงุซ ููุงุฒู ุนุดุฑูุฉ
    'hourly_rate' => 'decimal:2',   // ุฏููุงุฑ: ููุฒูุชุงู ุนุดุฑูุชุงู
    'hourly_rate_kwd' => 'decimal:3', // ุฏููุงุฑ: ุซูุงุซ ููุงุฒู ุนุดุฑูุฉ
];
```

### **5. ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช** โ

#### **Backend Validation**:
```php
$request->validate([
    'salary' => 'nullable|numeric|min:0',
    'salary_kwd' => 'nullable|numeric|min:0',
    'hourly_rate_kwd' => 'nullable|numeric|min:0',
    'standard_hours_per_month' => 'nullable|integer|min:1|max:744',
]);
```

### **6. ุงูุชุฑุฌูุงุช ูุชุนุฏุฏุฉ ุงููุบุงุช** ๐

#### **ุงูุฅูุฌููุฒูุฉ**:
```typescript
'addWorker.salary': 'Salary',
'addWorker.salaryKWD': 'Salary (KWD)',
'addWorker.hourlyRateKWD': 'Hourly Rate (KWD)',
'addWorker.monthlyHours': 'Monthly Working Hours',
'Calculated from: Monthly Salary KWD รท Monthly Working Hours': 'Calculated from: Monthly Salary KWD รท Monthly Working Hours',
```

#### **ุงูุนุฑุจูุฉ**:
```typescript
'addWorker.salary': 'ุงูุฑุงุชุจ',
'addWorker.salaryKWD': 'ุงูุฑุงุชุจ (ุฏ.ู)',
'addWorker.hourlyRateKWD': 'ุณุนุฑ ุงูุณุงุนุฉ (ุฏ.ู)',
'addWorker.monthlyHours': 'ุณุงุนุงุช ุงูุนูู ุงูุดูุฑูุฉ',
'Calculated from: Monthly Salary KWD รท Monthly Working Hours': 'ูุญุณูุจ ูู: ุงูุฑุงุชุจ ุงูุดูุฑู (ุฏ.ู) รท ุณุงุนุงุช ุงูุนูู ุงูุดูุฑูุฉ',
```

## ๐งช **ุงุฎุชุจุงุฑุงุช ุงููุธุงู**

### **ุงุฎุชุจุงุฑ 1: ุนุงูู ุจุฏูุงู ูุงูู**
```bash
# ุงูุฅุฏุฎุงู
{
  "name": "Fatima Al-Zahra",
  "salary": 1200,
  "salary_kwd": 360,
  "standard_hours_per_month": 160
}

# ุงููุชูุฌุฉ
{
  "salary_usd": "1200.00",
  "salary_kwd": "360.000",
  "hourly_rate_kwd": "2.250"
}
# ุงููุนุงุฏูุฉ: 360 รท 160 = 2.25 ุฏ.ู/ุณุงุนุฉ
```

### **ุงุฎุชุจุงุฑ 2: ุนุงูู ุจุฏูุงู ุฌุฒุฆู**
```bash
# ุงูุฅุฏุฎุงู
{
  "name": "Mohammad Al-Ahmad",
  "salary": 800,
  "salary_kwd": 240,
  "standard_hours_per_month": 120
}

# ุงููุชูุฌุฉ
{
  "salary_kwd": "240.000",
  "hours": 120,
  "hourly_rate_kwd": "2.000"
}
# ุงููุนุงุฏูุฉ: 240 รท 120 = 2.00 ุฏ.ู/ุณุงุนุฉ
```

### **ุงุฎุชุจุงุฑ 3: ุญุงูุงุช ุญุฏูุฉ**
```bash
# ุฑุงุชุจ ุนุงูู + ุณุงุนุงุช ููููุฉ
salary_kwd: 600, hours: 80 โ hourly_rate_kwd: 7.500

# ุฑุงุชุจ ููุฎูุถ + ุณุงุนุงุช ูุซูุฑุฉ  
salary_kwd: 180, hours: 200 โ hourly_rate_kwd: 0.900
```

## ๐ฏ **ุงููุนุงุฏูุงุช ุงูููุทุจูุฉ**

### **ูุนุงุฏูุฉ ุณุนุฑ ุงูุณุงุนุฉ**:
```
ุณุนุฑ ุงูุณุงุนุฉ ุจุงูุฏููุงุฑ = ุงูุฑุงุชุจ ุงูุดูุฑู ุจุงูุฏููุงุฑ รท ุณุงุนุงุช ุงูุนูู ุงูุดูุฑูุฉ

Hourly Rate (KWD) = Monthly Salary (KWD) รท Monthly Working Hours
```

### **ุฃูุซูุฉ ุนูููุฉ**:
```
360 ุฏ.ู รท 160 ุณุงุนุฉ = 2.250 ุฏ.ู/ุณุงุนุฉ
240 ุฏ.ู รท 120 ุณุงุนุฉ = 2.000 ุฏ.ู/ุณุงุนุฉ  
450 ุฏ.ู รท 160 ุณุงุนุฉ = 2.813 ุฏ.ู/ุณุงุนุฉ
```

## ๐ **ุงููููุงุช ุงูููุญุฏุซุฉ**

### **Frontend**:
```
src/pages/AddWorker.tsx:
- ุฅุถุงูุฉ ุญููู salaryKWD ู hourlyRateKWD ู standardHoursPerMonth
- ุฅุถุงูุฉ ุฏุงูุฉ calculateHourlyRateKWD()
- ุชุญุฏูุซ handleInputChange() ููุญุณุงุจ ุงูุชููุงุฆู
- ุชุญุฏูุซ handleSubmit() ูุฅุฑุณุงู ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ

src/contexts/LanguageContext.tsx:
- ุฅุถุงูุฉ ุชุฑุฌูุงุช ุฌุฏูุฏุฉ ููุญููู ุจุงูุฏููุงุฑ ุงููููุชู
- ุฏุนู ุงููุตูุต ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
```

### **Backend**:
```
api/database/migrations/2025_07_31_003051_add_kwd_salary_fields_to_workers_table.php:
- ุฅุถุงูุฉ ุญูู salary_kwd (decimal 10,3)
- ุฅุถุงูุฉ ุญูู hourly_rate_kwd (decimal 8,3)

api/app/Models/Worker.php:
- ุฅุถุงูุฉ ุงูุญููู ุงูุฌุฏูุฏุฉ ุฅูู $fillable
- ุฅุถุงูุฉ casting ููุงุณุจ ููุญููู ุงูุฌุฏูุฏุฉ

api/app/Http/Controllers/Api/WorkerController.php:
- ุชุญุฏูุซ validation rules
- ุชุญุฏูุซ calculateHourlyRates() ูุฏุนู ุงูุฏููุงุฑ ุงููููุชู
- ุญุณุงุจ ุชููุงุฆู ูู store() ู update()
```

## ๐ **ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ**

### **1. ูุฑููุฉ ุงูุนููุงุช** ๐ฑ
- โ ุฏุนู ุงูุฏููุงุฑ ุงูุฃูุฑููู ูุงูุฏููุงุฑ ุงููููุชู
- โ ุญุณุงุจ ูุณุชูู ููู ุนููุฉ
- โ ุนุฑุถ ูุงุถุญ ูููุง ุงูุนููุชูู

### **2. ุงูุญุณุงุจ ุงูุชููุงุฆู** ๐
- โ ุญุณุงุจ ููุฑู ูู Frontend
- โ ุญุณุงุจ ูุคูุฏ ูู Backend
- โ ุฏูุฉ 3 ููุงุฒู ุนุดุฑูุฉ ููุฏููุงุฑ

### **3. ุณูููุฉ ุงูุงุณุชุฎุฏุงู** ๐จ
- โ ูุงุฌูุฉ ุจุฏูููุฉ ููุฑุชุจุฉ
- โ ุชูููุญุงุช ูุงุถุญุฉ ูููุณุชุฎุฏู
- โ ูุนุงุฏูุงุช ูุฑุฆูุฉ ููุชูุถูุญ

### **4. ุงูุฃูุงู ูุงูุฏูุฉ** ๐
- โ ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- โ ุญูุงูุฉ ูู ุงูููู ุงูุณุงูุจุฉ
- โ ููู ุงูุชุฑุงุถูุฉ ุขููุฉ

## ๐ **ุฅุญุตุงุฆูุงุช ุงูุชุญุฏูุซ**

### **ุงูุญููู ุงูุฌุฏูุฏุฉ**: 3 ุญููู
- `salary_kwd`: ุงูุฑุงุชุจ ุจุงูุฏููุงุฑ ุงููููุชู
- `hourly_rate_kwd`: ุณุนุฑ ุงูุณุงุนุฉ ุจุงูุฏููุงุฑ
- `standard_hours_per_month`: ุณุงุนุงุช ุงูุนูู ุงูุดูุฑูุฉ

### **ุงูุชุฑุฌูุงุช ุงูุฌุฏูุฏุฉ**: 10 ููุงุชูุญ
- 5 ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ
- 5 ุจุงููุบุฉ ุงูุนุฑุจูุฉ

### **ุงููููุงุช ุงูููุญุฏุซุฉ**: 5 ูููุงุช
- 2 ูู Frontend (React)
- 3 ูู Backend (Laravel)

## ๐ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ**

### **ูุจู ุงูุชุญุฏูุซ**:
```
โ ุฏุนู ุงูุฏููุงุฑ ุงูุฃูุฑููู ููุท
โ ุญุณุงุจ ุณุนุฑ ุงูุณุงุนุฉ ูุฏูู
โ ูุง ููุงุณุจ ุงูุณูู ุงููููุชู
โ ูุนูููุงุช ุบูุฑ ุฏูููุฉ ููุฑูุงุชุจ ุงููุญููุฉ
```

### **ุจุนุฏ ุงูุชุญุฏูุซ**:
```
โ ุฏุนู ุงูุนููุชูู (USD & KWD)
โ ุญุณุงุจ ุชููุงุฆู ูุณุนุฑ ุงูุณุงุนุฉ
โ ููุงุฆู ุชูุงูุงู ููุณูู ุงููููุชู  
โ ุฏูุฉ ุนุงููุฉ ูู ุงูุญุณุงุจุงุช
โ ูุงุฌูุฉ ูุฑูุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู
โ ุญุณุงุจุงุช ููุฑูุฉ ูุฏูููุฉ
```

## ๐ฎ **ุงูุงุณุชุฎุฏุงู ุงูุนููู**

### **ุดุฑูุฉ ุงูุฎูุงุทุฉ ุงููููุชูุฉ**:
```
๐ ุฎูุงุท ุฑุฆูุณู: 450 ุฏ.ู/ุดูุฑ รท 160 ุณุงุนุฉ = 2.813 ุฏ.ู/ุณุงุนุฉ
โ๏ธ ูุงุต: 300 ุฏ.ู/ุดูุฑ รท 160 ุณุงุนุฉ = 1.875 ุฏ.ู/ุณุงุนุฉ  
๐จ ูุตูู: 360 ุฏ.ู/ุดูุฑ รท 160 ุณุงุนุฉ = 2.250 ุฏ.ู/ุณุงุนุฉ
๐ ุฎูุงุท ูุณุงุนุฏ: 240 ุฏ.ู/ุดูุฑ รท 120 ุณุงุนุฉ = 2.000 ุฏ.ู/ุณุงุนุฉ
```

**๐ ุงููุธุงู ุฌุงูุฒ ุงูุขู ูุฎุฏูุฉ ุงูุดุฑูุงุช ุงููููุชูุฉ ุจูุฑููุฉ ูุงููุฉ ูุฏูุฉ ุนุงููุฉ!**

---

**ุชู ุจูุงุณุทุฉ:** tammer โค๏ธ  
**ุงูุชุงุฑูุฎ:** 31 ููููู 2025  
**ุงูุญุงูุฉ:** โ ููุชูู ูููุฎุชุจุฑ ูุฌุงูุฒ ููุงุณุชุฎุฏุงู