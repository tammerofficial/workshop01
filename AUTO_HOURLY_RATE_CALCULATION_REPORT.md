# โก ุชูุฑูุฑ ุญุณุงุจ ุณุนุฑ ุงูุณุงุนุฉ ุงูุชููุงุฆู

## ๐ฏ **ุงููุฏู ุงูููุญูู**

ุชู ุชุทููุฑ **ูุธุงู ุญุณุงุจ ุณุนุฑ ุงูุณุงุนุฉ ุงูุชููุงุฆู** ุจุญูุซ ูุญุฏุฏ ุงููุณุชุฎุฏู **ุงูุฑุงุชุจ ุงูุดูุฑู ูุณุงุนุงุช ุงูุนูู** ููุทุ ูุงููุธุงู **ูุญุณุจ ุณุนุฑ ุงูุณุงุนุฉ ูุงูุฅุถุงูู ุชููุงุฆูุงู**.

## ๐ง **ุงูุชุญุฏูุซุงุช ุงูููุทุจูุฉ**

### **1. Frontend - ุตูุญุฉ ุชุนุฏูู ุงูุนุงูู**

#### **ุญุณุงุจ ุชููุงุฆู ูู ุงูููุช ุงููุนูู**:
```typescript
// ุฏุงูุฉ ุญุณุงุจ ุณุนุฑ ุงูุณุงุนุฉ
const calculateHourlyRate = (salary: string, monthlyHours: string) => {
  const salaryNum = parseFloat(salary) || 0;
  const hoursNum = parseFloat(monthlyHours) || 160;
  return hoursNum > 0 ? (salaryNum / hoursNum).toFixed(2) : '0.00';
};

// ุชุญุฏูุซ ุชููุงุฆู ุนูุฏ ุชุบููุฑ ุงูุฑุงุชุจ ุฃู ุงูุณุงุนุงุช
if (name === 'salary' || name === 'standardHoursPerMonth') {
  newData.hourlyRate = calculateHourlyRate(salary, monthlyHours);
  newData.overtimeRate = (parseFloat(newData.hourlyRate) * 1.5).toFixed(2);
}
```

#### **ุญููู ุบูุฑ ูุงุจูุฉ ููุชุนุฏูู**:
```typescript
{/* Hourly Rate (Auto-calculated) */}
<input
  type="number"
  name="hourlyRate"
  readOnly
  className="bg-gray-50 dark:bg-gray-600 cursor-not-allowed"
  value={formData.hourlyRate}
  title="ูุญุณูุจ ูู: ุงูุฑุงุชุจ ุงูุดูุฑู รท ุณุงุนุงุช ุงูุนูู ุงูุดูุฑูุฉ"
/>
<p className="text-xs text-gray-500">
  ุงููุนุงุฏูุฉ: {formData.salary || '0'}$ รท {formData.standardHoursPerMonth || '160'}h = {formData.hourlyRate}$/h
</p>
```

### **2. Backend - ุญุณุงุจ ุชููุงุฆู ุนูุฏ ุงูุญูุธ**

#### **ุฏุงูุฉ ุงูุญุณุงุจ ุงูุชููุงุฆู**:
```php
private function calculateHourlyRates(array &$data): void
{
    // ุญุณุงุจ ุณุนุฑ ุงูุณุงุนุฉ ุฅุฐุง ุชููุฑ ุงูุฑุงุชุจ ูุงูุณุงุนุงุช ุงูุดูุฑูุฉ
    if (isset($data['salary']) && isset($data['standard_hours_per_month'])) {
        $salary = (float) $data['salary'];
        $monthlyHours = (float) $data['standard_hours_per_month'];
        
        if ($monthlyHours > 0) {
            $data['hourly_rate'] = round($salary / $monthlyHours, 2);
            $data['overtime_rate'] = round($data['hourly_rate'] * 1.5, 2);
        }
    }
    // ุฅุฐุง ุชููุฑ ุงูุฑุงุชุจ ููุทุ ุงุณุชุฎุฏู 160 ุณุงุนุฉ ูุงูุชุฑุงุถู
    elseif (isset($data['salary']) && !isset($data['standard_hours_per_month'])) {
        $salary = (float) $data['salary'];
        $defaultMonthlyHours = 160;
        
        $data['hourly_rate'] = round($salary / $defaultMonthlyHours, 2);
        $data['overtime_rate'] = round($data['hourly_rate'] * 1.5, 2);
        $data['standard_hours_per_month'] = $defaultMonthlyHours;
    }
}
```

#### **ุชุทุจูู ูู ุงูู Controller**:
```php
public function store(Request $request): JsonResponse {
    $data = $request->all();
    $this->calculateHourlyRates($data); // ุญุณุงุจ ุชููุงุฆู
    $worker = Worker::create($data);
    return response()->json($worker, 201);
}

public function update(Request $request, Worker $worker): JsonResponse {
    $data = $request->all();
    $this->calculateHourlyRates($data); // ุญุณุงุจ ุชููุงุฆู
    $worker->update($data);
    return response()->json($worker);
}
```

### **3. ุงูุชุฑุฌูุงุช ุงูููุถุงูุฉ**

#### **ุงูุฅูุฌููุฒูุฉ**:
```typescript
'Auto-calculated': 'Auto-calculated',
'Formula': 'Formula',
'Calculated from: Monthly Salary รท Monthly Working Hours': 'Calculated from: Monthly Salary รท Monthly Working Hours',
'Calculated as: Hourly Rate ร 1.5': 'Calculated as: Hourly Rate ร 1.5',
```

#### **ุงูุนุฑุจูุฉ**:
```typescript
'Auto-calculated': 'ูุญุณูุจ ุชููุงุฆูุงู',
'Formula': 'ุงููุนุงุฏูุฉ',
'Calculated from: Monthly Salary รท Monthly Working Hours': 'ูุญุณูุจ ูู: ุงูุฑุงุชุจ ุงูุดูุฑู รท ุณุงุนุงุช ุงูุนูู ุงูุดูุฑูุฉ',
'Calculated as: Hourly Rate ร 1.5': 'ูุญุณูุจ ูุงูุชุงูู: ุณุนุฑ ุงูุณุงุนุฉ ร 1.5',
```

## ๐ **ุฃูุซูุฉ ุชุทุจูููุฉ**

### **ูุซุงู 1: ุนุงูู ุจุฏูุงู ูุงูู**
```json
{
  "ุฅุฏุฎุงู ุงููุณุชุฎุฏู": {
    "salary": 2000,
    "standard_hours_per_month": 160
  },
  "ุงูุญุณุงุจ ุงูุชููุงุฆู": {
    "hourly_rate": 12.50,     // 2000 รท 160 = 12.5
    "overtime_rate": 18.75    // 12.5 ร 1.5 = 18.75
  }
}
```

### **ูุซุงู 2: ุนุงูู ุจุฏูุงู ุฌุฒุฆู**
```json
{
  "ุฅุฏุฎุงู ุงููุณุชุฎุฏู": {
    "salary": 1200,
    "standard_hours_per_month": 120
  },
  "ุงูุญุณุงุจ ุงูุชููุงุฆู": {
    "hourly_rate": 10.00,     // 1200 รท 120 = 10
    "overtime_rate": 15.00    // 10 ร 1.5 = 15
  }
}
```

### **ูุซุงู 3: ุฑุงุชุจ ููุท (ุจุฏูู ุชุญุฏูุฏ ุณุงุนุงุช)**
```json
{
  "ุฅุฏุฎุงู ุงููุณุชุฎุฏู": {
    "salary": 1600
  },
  "ุงูุญุณุงุจ ุงูุชููุงุฆู": {
    "hourly_rate": 10.00,     // 1600 รท 160 (ุงูุชุฑุงุถู) = 10
    "overtime_rate": 15.00,   // 10 ร 1.5 = 15
    "standard_hours_per_month": 160  // ูููุฉ ุงูุชุฑุงุถูุฉ
  }
}
```

## ๐ฏ **ุงููููุฒุงุช ุงูููุญููุฉ**

### **1. ุณูููุฉ ุงูุงุณุชุฎุฏุงู**
- โ **ุฅุฏุฎุงู ูุจุณุท**: ุงูุฑุงุชุจ ุงูุดูุฑู ูุณุงุนุงุช ุงูุนูู ููุท
- โ **ุญุณุงุจ ููุฑู**: ุงููุชุงุฆุฌ ุชุธูุฑ ููุฑ ุงูุชุนุฏูู
- โ **ูุงุฌูุฉ ุจุฏูููุฉ**: ูุนุงุฏูุงุช ูุงุถุญุฉ ููุงุจูุฉ ููููู
- โ **ููุน ุงูุฃุฎุทุงุก**: ูุง ูููู ุชุนุฏูู ุณุนุฑ ุงูุณุงุนุฉ ูุฏููุงู

### **2. ุฏูุฉ ุงูุญุณุงุจุงุช**
- โ **ุญุณุงุจุงุช ุชููุงุฆูุฉ**: ูุง ุฃุฎุทุงุก ุจุดุฑูุฉ
- โ **ุชูุงุณู**: ููุณ ุงููุนุงุฏูุฉ ูู Frontend ู Backend
- โ **ููู ุงูุชุฑุงุถูุฉ**: 160 ุณุงุนุฉ ุดูุฑูุงู ูุงูุชุฑุงุถู
- โ **ุชูุฑูุจ ุฐูู**: ุชูุฑูุจ ูู 2 ููุงุฒู ุนุดุฑูุฉ

### **3. ูุฑููุฉ ุงููุธุงู**
- โ **ุณุงุนุงุช ูุฎุชููุฉ**: ูู ุนุงูู ูู ุณุงุนุงุช ุนูู ูุฎุชููุฉ
- โ **ุฑูุงุชุจ ูุชููุนุฉ**: ุฏุนู ุฌููุน ุฃููุงุน ุงูุฑูุงุชุจ
- โ **ุญุณุงุจ ููุฑู**: ุงูุชุญุฏูุซ ูุญุฏุซ ูู ุงูููุช ุงููุนูู
- โ **ุดูุงููุฉ**: ุงููุนุงุฏูุงุช ูุงุถุญุฉ ูููุณุชุฎุฏู

## ๐ **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุงูุฌุฏูุฏุฉ**

### **ูุจู ุงูุชุญุฏูุซ**:
```
1. ุฅุฏุฎุงู ุงูุฑุงุชุจ ุงูุดูุฑู: 2000$
2. ุฅุฏุฎุงู ุณุนุฑ ุงูุณุงุนุฉ: ุุ (ุญุณุงุจ ูุฏูู ูุทููุจ)
3. ุฅุฏุฎุงู ุณุนุฑ ุงูุฅุถุงูู: ุุ (ุญุณุงุจ ูุฏูู ูุทููุจ)
4. ุฅุฏุฎุงู ุณุงุนุงุช ุงูุนูู: 160
โ ูุนุฑุถุฉ ููุฃุฎุทุงุก ูุชุญุชุงุฌ ุญุณุงุจุงุช ูุฏููุฉ
```

### **ุจุนุฏ ุงูุชุญุฏูุซ**:
```
1. ุฅุฏุฎุงู ุงูุฑุงุชุจ ุงูุดูุฑู: 2000$
2. ุฅุฏุฎุงู ุณุงุนุงุช ุงูุนูู ุงูุดูุฑูุฉ: 160
โ ุณุนุฑ ุงูุณุงุนุฉ: 12.50$ (ูุญุณูุจ ุชููุงุฆูุงู)
โ ุณุนุฑ ุงูุฅุถุงูู: 18.75$ (ูุญุณูุจ ุชููุงุฆูุงู)
โ ูุนุงุฏูุฉ ูุงุถุญุฉ: 2000$ รท 160h = 12.50$/h
```

## ๐งช **ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ**

### **ุงุฎุชุจุงุฑ 1: ุฑุงุชุจ 2000$ - 160 ุณุงุนุฉ**
```bash
curl -X PUT /api/workers/23 -d '{
  "salary": 2000,
  "standard_hours_per_month": 160
}'

ุงููุชูุฌุฉ:
โ hourly_rate: 12.50
โ overtime_rate: 18.75
โ ุงููุนุงุฏูุฉ: 2000 รท 160 = 12.5
```

### **ุงุฎุชุจุงุฑ 2: ุฑุงุชุจ 1200$ - 120 ุณุงุนุฉ**
```bash
curl -X PUT /api/workers/23 -d '{
  "salary": 1200,
  "standard_hours_per_month": 120
}'

ุงููุชูุฌุฉ:
โ hourly_rate: 10.00
โ overtime_rate: 15.00
โ ุงููุนุงุฏูุฉ: 1200 รท 120 = 10
```

## ๐ **ุงููููุงุช ุงูููุญุฏุซุฉ**

### **Frontend**:
```
src/pages/EditWorker.tsx:
- ุฅุถุงูุฉ ุฏุงูุฉ calculateHourlyRate()
- ุชุญุฏูุซ handleInputChange()
- ุฌุนู hourly_rate ู overtime_rate ูููุฑุงุกุฉ ููุท
- ุฅุถุงูุฉ ูุนุงุฏูุงุช ุชูุถูุญูุฉ

src/contexts/LanguageContext.tsx:
- ุฅุถุงูุฉ ุชุฑุฌูุงุช ุฌุฏูุฏุฉ ููุญุณุงุจ ุงูุชููุงุฆู
```

### **Backend**:
```
api/app/Http/Controllers/Api/WorkerController.php:
- ุฅุถุงูุฉ ุฏุงูุฉ calculateHourlyRates()
- ุชุทุจูู ุงูุญุณุงุจ ูู store() ู update()
- ุฏุนู ุงูููู ุงูุงูุชุฑุงุถูุฉ
```

## ๐ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ**

### **ุงููุดููุฉ ุงูุณุงุจูุฉ**:
```
โ ุงููุณุชุฎุฏู ูุญุชุงุฌ ูุญุณุงุจ ุณุนุฑ ุงูุณุงุนุฉ ูุฏููุงู
โ ุงุญุชูุงููุฉ ุญุฏูุซ ุฃุฎุทุงุก ูู ุงูุญุณุงุจุงุช
โ ุนุฏู ุชูุงุณู ุจูู ุณุนุฑ ุงูุณุงุนุฉ ูุงูุฑุงุชุจ
โ ุตุนูุจุฉ ูู ุฅุฏุงุฑุฉ ุฑูุงุชุจ ูุฎุชููุฉ
```

### **ุงูุญู ุงูุฌุฏูุฏ**:
```
โ ุฅุฏุฎุงู ุงูุฑุงุชุจ ุงูุดูุฑู ูุณุงุนุงุช ุงูุนูู ููุท
โ ุญุณุงุจ ุณุนุฑ ุงูุณุงุนุฉ ูุงูุฅุถุงูู ุชููุงุฆูุงู
โ ุฏูุฉ 100% ูู ุงูุญุณุงุจุงุช
โ ุดูุงููุฉ ูุงููุฉ ูุน ุนุฑุถ ุงููุนุงุฏูุงุช
โ ุชูุงุณู ุชุงู ุจูู ุฌููุน ุงูููู
โ ุณูููุฉ ูู ุงูุงุณุชุฎุฏุงู
```

**๐ ูุฏูู ุชุญูู ุจุงููุงูู: ุงูุขู ุงููุณุชุฎุฏู ูุญุฏุฏ ุงูุฑุงุชุจ ูุณุงุนุงุช ุงูุนูู ููุทุ ูุงููุธุงู ูุญุณุจ ุณุนุฑ ุงูุณุงุนุฉ ุชููุงุฆูุงู!**

---

**ุชู ุจูุงุณุทุฉ:** tammer โค๏ธ  
**ุงูุชุงุฑูุฎ:** 31 ููููู 2025  
**ุงูุญุงูุฉ:** โ ููุชูู ูููุฎุชุจุฑ ูุฌุงูุฒ ููุงุณุชุฎุฏุงู